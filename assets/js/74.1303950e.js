(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{373:function(s,a,t){"use strict";t.r(a);var e=t(4),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"os-확인"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os-확인"}},[s._v("#")]),s._v(" OS 확인")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("uname -a\n\ncat /etc/issue\ncat /etc/redhat-release\ncat /etc/*release*\n\nrpm --query centos-release\n")])])]),a("h3",{attrs:{id:"os-bit-확인"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#os-bit-확인"}},[s._v("#")]),s._v(" OS bit 확인")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("getconf LONG_BIT\n")])])]),a("h3",{attrs:{id:"설치된-패키지-확인"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#설치된-패키지-확인"}},[s._v("#")]),s._v(" 설치된 패키지 확인")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("rpm -qa\n")])])]),a("h3",{attrs:{id:"열린-포트-확인"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#열린-포트-확인"}},[s._v("#")]),s._v(" 열린 포트 확인")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("netstat -tnlp\n")])])]),a("h3",{attrs:{id:"list-open-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list-open-files"}},[s._v("#")]),s._v(" list open files")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("lsof -i -nP | grep LISTEN | awk '{print $(NF-1)\" \"$1}' | sort -u\nnmap localhost\n")])])]),a("h3",{attrs:{id:"nginx-사용여부-확인"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-사용여부-확인"}},[s._v("#")]),s._v(" nginx 사용여부 확인")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemctl status ngin bx\n")])])]),a("h3",{attrs:{id:"chmod-chown-chcon"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chmod-chown-chcon"}},[s._v("#")]),s._v(" chmod chown chcon")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ls -l 로 각 파일의 권한을 확인\n")])])]),a("h3",{attrs:{id:"파일에-권한설정"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#파일에-권한설정"}},[s._v("#")]),s._v(" 파일에 권한설정")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chmod 777 test.txt\n")])])]),a("h3",{attrs:{id:"폴더에-권한설정"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#폴더에-권한설정"}},[s._v("#")]),s._v(" 폴더에 권한설정")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("chmode -R 777 folder\ndrwxrwxrwx\n")])])]),a("h3",{attrs:{id:"nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[s._v("#")]),s._v(" nginx")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd /etc/nginx/conf.d\n")])])]),a("h3",{attrs:{id:"재시작"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#재시작"}},[s._v("#")]),s._v(" 재시작")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo service nginx stop\nsudo service nginx start\nsudo service nginx reload\n")])])]),a("h3",{attrs:{id:"상태확인"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#상태확인"}},[s._v("#")]),s._v(" 상태확인")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("systemctl status nginx\ntelnet -tnlp\n")])])]),a("h3",{attrs:{id:"list-open-files-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list-open-files-2"}},[s._v("#")]),s._v(" list open files")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("lsof -i -nP | grep LISTEN | awk '{print $(NF-1)\" \"$1}' | sort -u\nnmap localhost\n")])])]),a("h3",{attrs:{id:"디렉토리-용량확인"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#디렉토리-용량확인"}},[s._v("#")]),s._v(" 디렉토리 용량확인")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("du -a directory\n")])])]),a("h3",{attrs:{id:"압축"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#압축"}},[s._v("#")]),s._v(" 압축")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("zip -r test.zip ./\\*\nunzip test.zip\nunzip test.zip -d /home/oseongryu\n")])])]),a("h3",{attrs:{id:"폴더-복제-cp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#폴더-복제-cp"}},[s._v("#")]),s._v(" 폴더 복제 cp")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cp -R repo backup_repo\n")])])]),a("h3",{attrs:{id:"새로운-유저-생성-후-home에-nginx-서비스-배포시"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#새로운-유저-생성-후-home에-nginx-서비스-배포시"}},[s._v("#")]),s._v(" 새로운 유저 생성 후, home에 nginx 서비스 배포시")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 해당 홈에 대해서 접근권한을 줘야함")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("755")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 프로세스가 어떻게 실행되어 있는지 확인")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 포트확인")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-tnlp")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 접속가능한지 확인")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://localhost: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8086")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nginx에 문제가 있을 경우 확인")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" /var/log/nginx/error.log\n")])])]),a("h3",{attrs:{id:"userdel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#userdel"}},[s._v("#")]),s._v(" userdel")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 계정, 홈폴더 삭제")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("userdel")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" testuser\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  계정 삭제")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("userdel")]),s._v(" testuser\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/passwd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" testuser\nll /home "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" testuser\n")])])]),a("h3",{attrs:{id:"linux-embeded-tomcat-ssl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-embeded-tomcat-ssl"}},[s._v("#")]),s._v(" linux Embeded Tomcat SSL")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("keytool -genkeypair -alias tomcat-localhost -storetype jks -keyalg RSA -keysize 2048 -validity 3650 -keystore <your project path>/<your project class path>/keystore.jks\n\nserver:\n  port: 8443\n  ssl:\n    enabled: true\n    key-alias: tomcat-localhost\n    key-password: <your key password>\n    key-store: classpath:keystore.jks\n    key-store-type: PKCS12\n    key-store-password: <your store key password>\n    key-store-provider: SUN\n")])])]),a("h3",{attrs:{id:"centos-default-설정"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos-default-설정"}},[s._v("#")]),s._v(" CentOS Default 설정")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 계정 생성")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" testuser\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" testuser\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 일반계정 SUDO 사용")]),s._v("\n* sudoers 설정 파일에 없습니다.\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\nvisudo "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" /etc/sudoers\n\n* Allow root to run any commands anywhere\nroot    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("       ALL\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ALL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ALL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("     ALL\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. Setting")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" java-1.8.0-openjdk-devel.x86_64 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" net-tools\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-tnlp")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4. firewalld 설정")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" firewall-cmd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--permanent")]),s._v(" --add-port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("/tcp\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" firewall-cmd "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--reload")]),s._v("\n\n")])])]),a("h3",{attrs:{id:"utc-kst"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#utc-kst"}},[s._v("#")]),s._v(" UTC, KST")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sf")]),s._v(" /usr/share/zoneinfo/UTC /etc/localtime\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-sf")]),s._v(" /usr/share/zoneinfo/Asia/Seoul /etc/localtime\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v("\n")])])]),a("h3",{attrs:{id:"cmd-history"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cmd-history"}},[s._v("#")]),s._v(" CMD History")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/home/.bash_history\n\nhistory\nhistory | less\nhistory | tail\nhistory 25\nhistory | grep -i searchterm | less\n")])])]),a("h3",{attrs:{id:"nc-nmap-scan-ip-ranges"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nc-nmap-scan-ip-ranges"}},[s._v("#")]),s._v(" nc, nmap (Scan IP ranges)")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("nmap "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\n")])])]),a("h3",{attrs:{id:"telnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#telnet"}},[s._v("#")]),s._v(" telnet")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" telnet\ntelnet "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n")])])]),a("h3",{attrs:{id:"crontab"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crontab"}},[s._v("#")]),s._v(" crontab")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. script")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" script_crontab_log.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x script_crontab_log.sh\n\n---\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Config Option")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("log_path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/home/user/logs"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("expire_day")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Execute")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${log_path}")]),s._v("/* "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-type")]),s._v(" f "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-mtime")]),s._v(" +"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${expire_day}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" /home/user/logs/* "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-type")]),s._v(" f "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-mtime")]),s._v(" +7 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" /home/user/logs/* "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"filename*"')]),s._v("\n---\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. crontab")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("\n---\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SHELL")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/bin/bash\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" * * * /home/user/script_crontab_log.sh\n---\n\n//매분\n* * * * * /home/user/script_crontab_log.sh\n\n// 매분 + 로그\n* * * * * /home/user/script_crontab_log.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /home/user/cron/cron.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" log\n /var/log/cron\n\n")])])]),a("h3",{attrs:{id:"ssh-connect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh-connect"}},[s._v("#")]),s._v(" ssh connect")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. Client")]),s._v("\nssh-keygen "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" rsa\nssh-copy-id user@192.168.0.1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 특정 ssh-copy")]),s._v("\nssh-copy-id "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" ~/.ssh/id_rsa.pub user@192.168.0.1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ssh-copy-id 수동")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" 연결할 서버의 .ssh 폴더에서\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" authorized_keys\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v(" authorized_keys\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" authorized_keys\n클라이언트에서 생성한 id_rsa.pub의 텍스트 복사해서 붙여넣기후 저장\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ~/.ssh/config")]),s._v("\n---\nHost rootserv\n    HostName "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.1\n    Port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\n    IdentityFile ~/.ssh/id_rsa_root\n    User root\n---\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(". Server\nsystemctl restart sshd\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" 0700 ~/.ssh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" 0600 ~/.ssh/authorized_keys\n")])])]),a("h3",{attrs:{id:"ssh-proxyjump"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh-proxyjump"}},[s._v("#")]),s._v(" ssh proxyjump")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Host root-proxy\n    HostName "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.99\n    Port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\n    User root\n\nHost root-was1\n    HostName "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.1\n    Port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\n    User root\n    ProxyJump root-proxy\n")])])]),a("h3",{attrs:{id:"systemd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#systemd"}},[s._v("#")]),s._v(" systemd")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 0. 실행 스크립트 chmod")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x start_server.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x stop_server.sh\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. systemd에 서비스 파일 생성")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /usr/lib/systemd/system/api_service.service\n\n---\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Unit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n// systemctl status 명령어에 표시되는 상세 설명\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("api_service\n// 유닛이 시작되는 순서를 조정하여 After에 지정된 유닛이 실행된 이후 시작된다.\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("After")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("network.target\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Service"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n// ExecStart에 영향을 주는 유닛 프로세스가 시작되며, simple, forking, oeshot, idle 등이 있다.\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("forking\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("serviceadmin\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Group")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("serviceadmin\n// syslog에서 구분하기 위한 이름\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SyslogIdentifier")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("api_service\n// 실행된 프로세스의 작업 디렉토리를 설정\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WorkingDirectory")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/serviceadmin\n// systemctl 명령어로 인한 중지를 제외하고 프로세스가 종료된 후 재시작한다.\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("Restart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("always\n// Restart 옵션과 연결되어 몇 초에 실행할지 결정\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RestartSec")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("0s\n// 서비스가 시작될 때 실행할 명령어 또는 스크립트 작성\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStart")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/serviceadmin/start_server.sh start\n// 서비스가 정지될 때 실행할 명령어 또는 스크립트 작성\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ExecStop")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home/serviceadmin/stop_server.sh stop\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Install"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n// 서비스가 실행될 타겟 설정\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("WantedBy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("multi-user.target\n---\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. systemd 적용을 위해 재시작")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. use")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start api_service.service\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl stop api_service.service\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart api_service.service\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl status api_service.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# * 에러발생시")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl reset-failed api_service.service\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemd-analyze verify api_service.service\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4. 서버 재부팅시 서비스 실행")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" api_service.service\nsystemctl status api_service.service\n")])])]),a("h3",{attrs:{id:"connect-network-is-unreachable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connect-network-is-unreachable"}},[s._v("#")]),s._v(" connect: Network is unreachable")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.8")]),s._v(".8.8\n")])])]),a("h3",{attrs:{id:"내부망-설치"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#내부망-설치"}},[s._v("#")]),s._v(" 내부망 설치")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# YUM이용시 다운로드만 받을 수 있는 프로그램 설치 (이미 설치되어있었음)")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" yum-plugin-downloadonly\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 레포데이터 만들어주는 프로그램 설치")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" createrepo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# repository 디렉토리 생성")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /test\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 필요한 RPM을 다운로드")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/yum.repos.d/MariaDB.repo\n---\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mariadb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MariaDB\nbaseurl "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" http://yum.mariadb.org/10.1/centos7-amd64\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://yum.mariadb.org/RPM-GPG-KEY-MariaDB\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n---\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum downloadonly의 경우 다운로드받을 프로그램이 설치되어있으면 다운로드 받아지지않음")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 다운로드 받으려는 프로그램을 삭제하고나 다른환경에서 다운로드 받아야함")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("설치할 프로그램명"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--downloadonly")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--downloaddir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/test\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" MariaDB-server "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--downloadonly")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--downloaddir")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/test\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Repo MetaData를 생성한다")]),s._v("\ncreaterepo /test\n---\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mariadb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nname "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MariaDB\nbaseurl "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" file:///test/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n---\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 외부망에서 진행한 /test 디렉토리를 내부망 서버 /test에 복사")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/yum.repo.d/MaraiDB.repo\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# yum 저장소를 잘 읽어오는지 확인")]),s._v("\nyum repolist\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MariaDB YUM설치 실행")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" MariaDB\n\n")])])]),a("h3",{attrs:{id:"sftp-설정"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sftp-설정"}},[s._v("#")]),s._v(" SFTP 설정")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. SFTP를 위한 SSH설치")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. SFTP 구성하기 (SFTP 권한을 얻을 user와 group만들기)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /data/sftp\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("701")]),s._v(" /data\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 그룹 및 유저 생성")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("-1. 그룹명 sftpgroup 생성\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" sftpgroup\n\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("-2. 유저 생성\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 그룹 sftpgroup 포함시킴\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 유저가  /upload 디렉터리에 있도록 설정, "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("/data/sftpgroup/upload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 유저"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sftpuser01"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("가 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" 프로토콜이 아니고, "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sftp")]),s._v(" 프로토콜만 사용하도록 제한\n \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" sftpgroup "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /sbin/nologin sftpuser01\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" sftpuser01\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4. upload 디렉터리 만들고, 권한 설정하기")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-P")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 경로에 디렉터리를 없으면 만들고 있으면 냅둠\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 경로 하위 파일을 모두 권한 변경\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" /data/sftpuser01/upload\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" root:sftpgroup /data/sftpuser01\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" sftpuser01:sftpgroup /data/sftpuser01/upload\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5. SSH Configure파일 수정하기")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/ssh/sshd_config\n\n---\nMatch Group sftpgroup\n    ChrootDirectory /data/%u\n    ForceCommand internal-sftp\n---\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6. SSH 서비스 상태 확인 및 재시작")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" sshd status\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" sshd restart\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7. SFTP 작동 테스트")]),s._v("\nyum list nmap\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nmap "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\nnmap "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.1\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8. 원격에서 접속 테스트")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" sftpdev01@192.168.0.1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sftp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-oPort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" ~/.ssh/id_rsa_sftpdev01 sftpdev01@192.168.0.1\n")])])]),a("h3",{attrs:{id:"서버-재시작-서버-종료"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#서버-재시작-서버-종료"}},[s._v("#")]),s._v(" 서버 재시작, 서버 종료")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 10분 뒤 종료 (halt)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" +10\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 13시 재가동 (reboot)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":00\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 즉시 재가동")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" now\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 재부팅")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n\n")])])]),a("h3",{attrs:{id:"centos-서버-설정-확인"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos-서버-설정-확인"}},[s._v("#")]),s._v(" CentOS 서버 설정 확인")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" addr show\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /dev/tcp/127.0.0.1/22\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:80\n\ntelnet "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("traceroute")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n\n")])])]),a("h3",{attrs:{id:"oracle-과-locale-맞추기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oracle-과-locale-맞추기"}},[s._v("#")]),s._v(" oracle 과 Locale 맞추기")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("SELECT * FROM nls_session_parameters WHERE PARAMETER LIKE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%DATE%'")]),s._v(" OR PARAMETER LIKE "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%LANG%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 현재 언어셋확인")]),s._v("\nlocale\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/locale.conf\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/locale.conf\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# centos6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/i18n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 사용가능 언어셋확인")]),s._v("\nlocalectl list-locales "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" ko_kr\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# localectl list-locales | grep -i en_us")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 언어셋변경")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" localectl set-locale "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("ko_KR.utf8\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo localectl set-locale LANG=en_US.utf8")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/locale.conf\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 변경완료 후 reboot")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# reboot 후 확인")]),s._v("\nlocale\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# timezone 변경")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /etc/localtime\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /usr/share/zoneinfo/Asia/Seoul /etc/localtime\n\n")])])]),a("h3",{attrs:{id:"sshfs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sshfs"}},[s._v("#")]),s._v(" sshfs")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" epel-release\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" fuse-sshfs\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /upload\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /upload\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" sshfs devuser@192.168.0.1:/data/upload /upload "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" allow_other\n")])])]),a("h3",{attrs:{id:"nfs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nfs"}},[s._v("#")]),s._v(" nfs")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("https://it-serial.tistory.com/entry/Linux-NFS-%EC%84%9C%EB%B2%84-%EA%B0%9C%EB%85%90-%EA%B5%AC%EC%B6%95%EC%84%A4%EC%B9%98\n")])])]),a("h3",{attrs:{id:"font-error"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#font-error"}},[s._v("#")]),s._v(" font error")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://logical-code.tistory.com/191")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://www.lesstif.com/lpt/linux-font-font-config-93127497.html")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" fontconfig "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" freetype fontconfig "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n")])])]),a("h3",{attrs:{id:"mem-check"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mem-check"}},[s._v("#")]),s._v(" mem check")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/meminfo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" Mem\n")])])]),a("h3",{attrs:{id:"톰캣-구동중-catalina-out-삭제"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#톰캣-구동중-catalina-out-삭제"}},[s._v("#")]),s._v(" 톰캣 구동중 catalina.out 삭제")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 톰캣 구동중 catalina.out 삭제 시 톰캣 재기동 전까지 생성되지 않음")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" tomcatsetupfolder/logs\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("curr_date")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%Y%m%d"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 오늘날짜로 백업")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" catalina.out catalina.out-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$curr_date")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 복제후 로그 초기화")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" catalina.out\n")])])]),a("h3",{attrs:{id:"find"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#find"}},[s._v("#")]),s._v(" find")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7일 전 파일 목록 확인")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" /home/user/logs/* "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-type")]),s._v(" f "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-mtime")]),s._v(" +7\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7일 전 파일 목록 확인 후 삭제")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" /home/user/logs/* "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-type")]),s._v(" f "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-mtime")]),s._v(" +7 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 특정이름 들어간 파일 목록 확인")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" /home/user/logs/* "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"filename*"')]),s._v("\n")])])]),a("h3",{attrs:{id:"centos-gui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos-gui"}},[s._v("#")]),s._v(" centos GUI")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("systemctl get-default\nsystemctl set-default graphical.target\nsystemctl get-default\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# GUI package setting")]),s._v("\nyum groupinstall "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GNOME Desktop"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Graphical Administration Tools"')]),s._v("\n\n\nyum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" groupinstall "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GNOME Desktop"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" systemctl set-default graphical.target "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" now\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" xrdp tigervnc-server\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#https://medium.com/tech-guides/google-cloud-platform-gcp-access-linux-server-using-gui-running-in-gcp-instance-using-windows-201e315925a6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\nsystemctl start xrdp\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" xrdpCreated symlink from /etc/systemd/system/multi-user.target.wants/xrdp.service to /usr/lib/systemd/system/xrdp.service.\n\n")])])]),a("h3",{attrs:{id:"logrotate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#logrotate"}},[s._v("#")]),s._v(" logrotate")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 로그의 비대화를 막기 위한 방법으로 로그 로테이션")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# size와 daily는 서로 상충하지만, maxsize와 daily는 동시에 적용가능")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 테스트방법")]),s._v("\n/usr/sbin/logrotate /etc/logrotate.d/test-app "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/logrotate.conf")]),s._v("\nweekly\nrotate "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\ncreate\ndateext\ncompress\ninclude /etc/logrotate.d\n/var/log/wtmp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    monthly\n    create 0664 root utmp\n        minsize 1M\n    rotate "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n/var/log/btmp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    missingok\n    monthly\n    create 0600 root utmp\n    rotate "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/logrotate.d")]),s._v("\n/app/logs/shorts.log "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    daily\n    missingok\n    dateext\n    dateformat -%Y-%m-%d_%s\n    maxsize 100M\n    rotate "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("\n    notifempty\n    create "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("644")]),s._v(" tomcat tomcat\n    copytruncate\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h3",{attrs:{id:"references"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[s._v("#")]),s._v(" References")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("https://zetawiki.com/wiki/%EB%A6%AC%EB%88%85%EC%8A%A4_%EB%A1%9C%EC%BB%AC%EC%84%9C%EB%B2%84_%EC%97%B4%EB%A6%B0_%ED%8F%AC%ED%8A%B8_%ED%99%95%EC%9D%B8\nhttps://woonizzooni.tistory.com/entry/tcping-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%82%AC%EC%9A%A9%EB%B2%95\nhttps://bkjeon1614.tistory.com/658\nhttps://unix.stackexchange.com/questions/242782/centos-7-systemd-active-failed-result-start-limit\nhttps://unix.stackexchange.com/questions/484431/allowing-non-root-users-to-manage-systemd-service-is-not-working\nhttps://askubuntu.com/questions/692701/allowing-user-to-run-systemctl-systemd-services-without-password\nhttps://sleeplessbeastie.eu/2021/03/03/how-to-manage-systemd-services-remotely/\nhttps://serverfault.com/questions/841306/authentication-is-required-to-manage-system-services-or-units\nsshfs: https://blog.sonim1.com/226\nnfs: https://it-serial.tistory.com/entry/Linux-NFS-%EC%84%9C%EB%B2%84-%EA%B0%9C%EB%85%90-%EA%B5%AC%EC%B6%95%EC%84%A4%EC%B9%98\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);