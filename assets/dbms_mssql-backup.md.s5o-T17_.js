import{_ as a,c as t,o,a4 as r}from"./chunks/framework.C2Gk6cJW.js";const S=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"dbms/mssql-backup.md","filePath":"dbms/mssql-backup.md","lastUpdated":1755066352000}'),s={name:"dbms/mssql-backup.md"};function l(p,e,D,c,_,d){return o(),t("div",null,e[0]||(e[0]=[r('<p>use master go</p><p>-- 백업 파일 목록 확인 RESTORE FILELISTONLY FROM DISK=&#39;D:\\DB_DATA\\20180220_TEST.bak&#39; -- 백업해둔 .BAK 파일</p><p>-- 새로운 이름으로 데이터베이스 복원 RESTORE DATABASE [TEST] --새롭게 복원할 DB명 FROM DISK=&#39;D:\\DB_DATA\\20180220_TEST.bak&#39; --백업해둔 .BAK 파일 WITH RECOVERY, MOVE &#39;TEST&#39; TO &#39;D:\\DB_DATA\\TEST2.mdf&#39;, --MOVE &#39;HVI_2011&#39;은 첫번째 LOCALNAME (PMS_Data) MOVE &#39;TEST_log&#39; TO &#39;D:\\DB_DATA\\TEST2_log.ldf&#39;, REPLACE --MOVE &#39;HVI_2011_LOG&#39;는 2번째 LOGICALNAME (PMS_Log)</p><p>GO</p><p>--logical_file_name 확인 use TEST go</p><p>SELECT file_id, name as [logical_file_name],physical_name from sys.database_files</p><p>--logical_file_name 변경 USE [master] GO ALTER DATABASE [TEST] MODIFY FILE (NAME = DYERP, NEWNAME = WOOJE); GO ALTER DATABASE [TEST] MODIFY FILE (NAME = DYERP_log, NEWNAME = WOOJE_log); GO</p><p>*LocalDB 1.LocalDB설치</p><p><a href="https://www.microsoft.com/ko-kr/download/details.aspx?id=29062" target="_blank" rel="noreferrer">https://www.microsoft.com/ko-kr/download/details.aspx?id=29062</a></p><p>KOR\\x64\\SqlLocaLDB.MSI KOR\\x64\\SQLManagementStudio_x64_KOR.exe</p><p>2.LocalDB 인스턴스 만들기</p><p><a href="http://orangetazo.tistory.com/11" target="_blank" rel="noreferrer">http://orangetazo.tistory.com/11</a></p><p>CMD에서 생성 : SqlLocalDB create &#39;DB명&#39; 삭제 : SqlLocalDB stop &#39;DB명&#39; &gt; SqlLocalDB delete &#39;DB명&#39;</p><p>3.기존DB에서 LocalDB로 mdf,ldf파일옮기기</p><p>---mdf, ldf 파일 복사 <a href="http://faq.hostway.co.kr/Windows_DB/7718" target="_blank" rel="noreferrer">http://faq.hostway.co.kr/Windows_DB/7718</a></p><p>sp_detach_db &#39;SKWD&#39; GO sp_attach_db &#39;SKWD&#39; , &#39;D:\\DB_DATA\\SKWD.mdf&#39; , &#39;D:\\DB_DATA\\SKWD_log.ldf&#39; GO</p><p>4.Visual Studio에서 LocalDB 연결방법</p><p><a href="https://docs.microsoft.com/ko-kr/sql/database-engine/configure-windows/sql-server-2016-express-localdb" target="_blank" rel="noreferrer">https://docs.microsoft.com/ko-kr/sql/database-engine/configure-windows/sql-server-2016-express-localdb</a></p><p>&quot;Server=(localdb)\\MSSQLLocalDB;Integrated Security=true&quot;</p><p>&quot;Server=(LocalDB)\\MSSQLLocalDB; Integrated Security=true ;AttachDbFileName=D:\\Data\\MyDB1.mdf&quot;</p><p>private static string DB_CONN_ADDR = &quot;Server=(LocalDB)\\v11.0; Integrated Security=true ;AttachDbFileName=C:\\Data\\SKWD.mdf;&quot;;</p>',21)]))}const n=a(s,[["render",l]]);export{S as __pageData,n as default};
